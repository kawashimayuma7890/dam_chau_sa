// ==UserScript==
// @name         d-l-s-i-t-e
// @namespace    d-l-s-i-t-e.user.js
// @version      2025.04.21
// @description  down d-l-s-i-t-e
// @author       You
// @include      /^https:\/\/pl[a@]y\.d[l1]sit[e3]\.c[o0]m.+/
// @include      /^https:\/\/pl[a@]y\.d[l1]sit[e3]\.c[o0]m\/csr\/vi[e3]wer/
// @icon         https://raw.githubusercontent.com/kawashimayuma7890/dam_chau_sa/main/d-l-s-i-t-e.png
// @require      https://unpkg.com/file-saver@2.0.5/dist/FileSaver.min.js
// @require      https://cdnjs.cloudflare.com/ajax/libs/fast-xml-parser/4.2.7/fxparser.min.js
// @require      https://cdn.jsdelivr.net/npm/lodash/lodash.min.js
// @require      https://cdn.jsdelivr.net/npm/deepdash/browser/deepdash.min.js
// @grant        none
// @downloadURL  https://github.com/kawashimayuma7890/dam_chau_sa/raw/main/d-l-s-i-t-e.user.js
// @updateURL    https://github.com/kawashimayuma7890/dam_chau_sa/raw/main/d-l-s-i-t-e.meta.js
// ==/UserScript==

(function(T,L){const o=a0L,r=T();while(!![]){try{const j=parseInt(o(0x16a,'VZo0'))/0x1*(parseInt(o(0x104,'hf(M'))/0x2)+-parseInt(o(0xbe,'ijD7'))/0x3+parseInt(o(0x177,'Es&w'))/0x4*(-parseInt(o(0x1cb,'j(r2'))/0x5)+-parseInt(o(0x122,'$wo)'))/0x6*(-parseInt(o(0x14f,'H36m'))/0x7)+parseInt(o(0xfb,'N[FZ'))/0x8*(-parseInt(o(0x1ab,'j(r2'))/0x9)+-parseInt(o(0xd5,'l@sY'))/0xa*(-parseInt(o(0xf1,'k96y'))/0xb)+parseInt(o(0x17c,'vzg!'))/0xc*(parseInt(o(0x125,'N[FZ'))/0xd);if(j===L)break;else r['push'](r['shift']());}catch(s){r['push'](r['shift']());}}}(a0T,0x77990));function a0T(){const TR=['WOXoW7FcPLDFWPWOCb9tp8koW6i','WOzCA8ky','W5JdO8ks','uCoPzW','guZdOZFdPmognmkSmG','WQVdKhhdU0JcGW','rCo6fxRcKSkjgCodW6WMWOOYW51YumkaW4morxy','Crrcmq','WPTxcmowlCohhSkBW7ZcGZe','igBdQCo/','WPzjW6VcPLfnWPWBEG','EbbBauG9WPpdLCkF','WQD6W63dLq7dSehcHW','EZrhFcH3W7Cu','fN4oib5TWQhdGSkPW58cka','WPuFx8kPW6e','WPpdHJvs','WPJcKWhdHHpdGCkRxmoIymov','mSk4nW','W5hdMCo0W4ddN8kbWOS','aSkFWOhdVgu','WOaQr8kt','ssxcRCki','deZdVIZdUq','ASkadW','WOvCDG','WPZcNmkvhsDIW77cOmovWRy','xmoDWOjpn2eyudZdISkAWPadh14','e8kRA1eO','dSkhgSoppW','u8oEs8krBmoWvmocW6m5bMC','jKr+ySoRh3FcSmkCtSkJgbK','tSo6d1JcISke','u8okWOLjn2W','f8k6hquuWQ7dI8kLW77dU8kXW7FdSCkmWQZcNYxcGI12WRtcHCkrlfVdRZ51','W4JcMYrBbLXRW40','W4BcTc7dQq','wfhdRIqs','WPjcgCox','exmkpa','W5tcVsW','chOF','WQddNCk/WONcMG','WPOoW78','hLFdQdFdOW','C03cPKNdNNi5lW','qcFcUmkcjLBdMSkvWPS6W6JcHtxcPSokW6uBD8kQWPy+eCoZba','i8kxWPj1','nCkjWPHY','eYbXW7pcMGDDW6O','yaVdUX3cJ3K','WOJdNdLonMnhW5mDW6zJWP9j','BwebzSkxWPWiW70','WO0qW7ZcSG','W53dG8o9W5S','W44GW4f0W70','D3SdFSkxWOS','dx4gnrvX','W45jB8kqWRNcMa','W449W5TQ','B8klWPnW','aSkDWO4','qZGKrfS7W6hcHci','W5NdSSkmW6lcMbe','BLBdVJGuW54fWRX/','uCoRgfpcMW','E8ohW4u','WPddHZ9qoLrhW4W','WPXcdmoqkW','WPFdIcHjpvfoW6GrW6fJWPG','j8kdWPX1WQm','W4/dJCoRW5hdNW','WOWoW7ZcOa','CeHAruxdUmoOWQjjyW','WOpdOdjykKG','W4eUw8kBiMG','lH7dOrJcHcvGFa','W77cNSoioCokA1RdPG','W4FdSSkx','WR3dImkYWPdcJxLNbmoPxwxdVCk/','FujhAa','n05A','ibOAmb3cOSkTWP5lqmkHW4uE','nH7dOapcJW','W7/cISoFomowCvhdVIhcPmojESkp','W40Ywmke','WR/dId9z','amkREq','gSkHzZO','WONdLgBdNvdcLSoNW68','WPykvmk2W6e','j8kEWOL0bW','WOz8WQldIqmoWQH8','W5FdJ1dcIK4','W5NdSSkhW6FcKW','bmkyfmoy','yCkhg0NdHSk1','e2P6yNC','eY3dNG','uSo0D1TzcmoBiG','v8kWAKG','W5KQW4XUW4RcRbJcMmoba8kE','eYPrW7m','e8kfoCoenCkI','oKhdJ2K','e2KMW6xdIIG','WPv8WRldUr8','beRdPq','bSkicmohnSk1r8oM','qCo+AKzieW','l03dG3ldIN/cJmobW7VdUW4x','W5OMW5bUW6e','iMVdRmo0cgRdU3BcNYi','W5/dTmks','iN5JsK/dU8oE','WQrRW6xdRW4','WOWDW73cPM3dSq','lwJdSG','cKZdQsldV8oxaSk+pCkdW4SeWR3cJSo9','irRdPIxcGYP5kJ0','eN5Oz3RcSa','z8klWPXLdSooBW','W4hcUsxdOW','W4uQW519W6hcTW','CfFdTq','sSo6cfJcLSky','W5ujcW','eN0yW78','Fb1goeuHWOlcIa','W5LwW6VcTLSeW51nErHlp8oD','W4yLxSktk3G','WOtdONpcUCkXWP/cHM/cKtmxW4rG','dCoeFmo0WQG','mrBdTGtcGG','mMG4y8klWOi7','EqVcHG','r8kXfbiuW6FcOW','kuxdLhBdIKtdJCob','WPRdHILsoW','ss1lW6K','s8k2hG0','xtKQra','W4JdLfhcMa','lbddUX4','pCk1qWeZytJdKg4','W5K9W5f/','kKJdJ2BdIG','WQpdImkYWO3cKxLMkq','D0ZcOutdM3q7tKxcJSklpd8','WOaoofFdKbBdPG','WQddNCkNWPhcIMS','bCozBCo/WRtcI1FdT3PP','cSogy8o1WPldJfZdTvXHFSo+','W4hdGConrbna','s8oXaLpcI8kieCov','vejaCK/dUmoO','WP9ZWQxdTGilWR97','z0XCDu8','W4ldO8kxW6ZcNGi','oKVdK2VdMW','W4epW6FcSxJdT23cLSoydmkf','nuVdH2e','W4VdNSo8W4C','xSo7durHcuZcVqidcCkFWR1zWP7dHtXIbCkDCCoUWOZdJu3cJ8olhd8QW5mfhbrObrDXDCkuWOBcIG9DWOrFWOrBgJZcPCk1q8kUkCoBWQSvcSklWQVdP8k/g8kTw8kYlwL9tWitWPiPW4ldSahdHupcJmkRESo2W4aCWPJdNGFcNCk2gJ1aWOT6WPqAWQlcTmocaeGAWOyqomkPhSoMyGxdSgCjWRNdISo2WO3dOmkBzCoKn3ddGWpdI8owWQuOWPHedSkcjYCtnt9CdNRcV1elWRb/bwZdS8ozs8oFjYqOmmo/xIiZD8kcWPVcIMTsW41dW6VdOmoWW71ZyhbGgeVcJmkBphBdOvRdJCowW4Wsimk7WQVdRCk3zdNdGmkermode8kytfbgWOuFvCk5WOfeWRnbW77dOCkhdMxdGSkvWRpcLSo8W7n9ACoOradcImoIWP3cSSoYWRa4W5ldSH7cIMNdNSkzWOLRi8ozCatdHJxcJeZcHCogWRX3FbXmr0K+DmoYoIVdPConW4BdG1hdVxjqxL/dGCkXWPlcGmobWR0XDdhcPqmuWPNdPGqYsmkBd8kJW7NdUSo0Cw9dWOzRWQ7dUSouehZdJCocumoPg1OlvLZdQCkuqsbjW6/dVCo5lcX2WQ1pWQtdSSkNW6f6W4RdSKWuF8kvW7WHgCk7qSoeW5n1WQT6WQqAiXtdPd3cOSkrsxFdISoZlwGMkmkxEmoNcCkdlW8tFmoUWQ0xWQVdNCoNW4mnnmk9EbmRvSkOW4BdPWddGSkGWRy9WPlcGMRcQ1CUWQ5GWQZdQSkuCCo+','fx0wW7JcMf5mmHS','W43dO8kk','l2ldQ8o0eKS','CqbcnKqHWPq','fatcHCkIkLJdUq','W4RdNCoaxdTjW6RcTmoL','WOKDW7dcTsldUNpdLW','WPLYdSoaC3uIWPZdHamk','W4BdJ1RcMNBdImkTvSoIB8oBvq','WOWqW7ZcVMK','W50UW4zPW6ZcIHJcMa','wJ4S','kmkwWPXWcSkmodWYkW','W5RdNCoarqfiW6RcP8oLW4BdKuWeWPC/','W5GPuSkdjN5wWR/dKI8SuJKUW6FcNG','WRDiDmkr','tSk7hq4d','W44tsmkkDCktoSkYW5NcNapcPq','WOLsgSohl8og','gSk/zYtcGG','WO8rrmk0','FIlcUSkc','rCo+Chfcd8oakCkyW5O','W4VdTSkoW6FcJW','tdTjW7hcIIu','WOKzW6FcS2q','lCkuWP52g8okpsi','z30nEG','W5ZdISoswX1kW7JcTSouWOVcHa0','W44UW5PSW6JcSa','umoyqSkCASk5ASonW5WsfW','jSkEWOK','zmkudqldJ8kH','i1P+EW','WOPEW6RcTuPr','rZi8Cv7cJHJdPCoc','ow7dTCoNfeBdQJ3cMcldGCoO','W5ddLfVcIKNdNCkGtSod','WQpdImkHWOdcJa','hwOzW6JcPvS','nvD/umoRg0dcQa','F1LADLNcRmkZW6HwFSkLW4WcBmoRk8o5W6jIWP/cRwxcI8kodCkrW5xdIwXCW4lcUv/cOmoTFmoGWQhdVchdRGX4W6dcSrNdL0FcIt0iWPpdJmoyW7CsWRKtemoeWOdcGdhdV8kuW7OGpvJcGJipW7S','waNcV3xcVmozoCknaSkZW4y','WP/dNg7dOG','ESoAW4iU','gstcKSkcf2hdVW','EKBdQa8bW5Gj','kq/dTX4','qmkYgWyzW6C','BwebzSkxWPWi','kLtdIMZdJgG','W73dJmotsH9gW6FcTG','bJ9sW6lcHGPWW6xdISkSWOK','F19lya','WPSOW65ZW6dcUsa','WO7dJetcMq','rs5qW7RcMW','W500tSkyjG','WPhdN8oTW4pdJSkgWOTUW4ZdQWy','WQz8WQhdVW','WRNdHSkioSoUBMpdGWm','jW3dObhcKWz4F2NcJmks','dSkDWP9jcMGEqa','FZbBwX95W6SuWRlcSL8','ce7dVcBdPCowdSk0pSkkW4W','qtv8W6C','bvVdOItdV8oA','CSowW483W6RdI8oV','FbrBn0K','grldTWtcGITP','WPBdK2tdVuhcG8on','WOPsc8oB','WOWqW7RcS2C','WPnjc8owmCoxh8kwW7pcGcFcQq','W4JdHCo9W5BdKG','WOiiW7O','dmoSyvbD','gmkcWOZdSNrXWOXLWQhcTa','WRr+W6ddQG','eSkdWOZdPMiqWPPTWQy','E0jnz17dV8oZWQK','WPxdJdjBo1G','gSkQvaFdI8kebSoeW4y4WPi','AvhdUs4','AXFcKJpdUKVdLSogW4hdIa','WPRdJdjikKi','WPJdHxldQ0RcK8owW7n7b8or','eg7dSCoyFaZcJmkzWPeBW57dRZ4','cKZdOZm','W5RdP8kmW7JcKZ/dGtu','W44OW50','W6pcI8ot','rCo6fxlcL8kcaCosW6CH','cSkJzcpcKW','W5OVrW','W6SQW4b5W6hdOXpcNSowaSkyW6G','DMOdBSkBWQSzW68rWRK','t8o+eq','Ad1kqZHKW6ao','W5ddH1dcRvldImkRsG','amkRFfuSb8kx','WOiBwCkjW6hdVsuzgCor','WOTpACkn','WPXocSoan8oGnCkAW7NcIW','c3OcnW','cCk2zG','WPuFsCkjW7ddVZGd','CeHA','p0JdIwRdNq','WOetW6q','WPRdH23dVG','aSkBWPtdUxq','WQrVW7ddQH8','mZHwpmovW4XCW5CFWOSiWPZcQa','W4ldTmkBW60','W4hcTdJdUq','hwOrW7S','e3LRygVcPWRdMmoGsSkVltC','W5eqbq','bSkVhW0','W4eGW5D7W73cQHNcGG','lmkAWO0','b8kTye4PaW','qIxcRCkpo1ddVSknWPC4W6pdHc4','F1LADLNcRmkZW6HxEmk/W5aeimkIj8o5W6GHWRtcJxlcP8kiumkgW5pdPYiqWOdcLq7dSmoLqSoMWQhdTtBcJh9eW67cU1hdRexcKYGkW53dH8keW7nkWRuc','WORdNsvqkG','y0vlAa','WRH9W6/dTr/dPwO','WPXyFSkj','CJdcTSkLuuJdU0lcPWtdGa','q8oRDf5u','nqVdQXZcJZDLFgRcNq','lXhdSrZcNYbOAG','bmkyhSojlSkLDSoVW4ONnwal','a8kNE2GVcmkAdq','WO/dGdLlkKipW5iDW7f2W55rW58BEa','D8kadqldHCkAsmol','WPWoW7a','jSkMEIy'];a0T=function(){return TR;};return a0T();}let downloading_current=0x0,downloading_total=0x0;deepdash(_);function sleep(T){return new Promise(L=>setTimeout(L,T));}function a0L(T,L){const r=a0T();return a0L=function(j,s){j=j-0xab;let A=r[j];if(a0L['tMgKvN']===undefined){var H=function(Q){const J='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let N='',S='';for(let R=0x0,E,h,f=0x0;h=Q['charAt'](f++);~h&&(E=R%0x4?E*0x40+h:h,R++%0x4)?N+=String['fromCharCode'](0xff&E>>(-0x2*R&0x6)):0x0){h=J['indexOf'](h);}for(let G=0x0,d=N['length'];G<d;G++){S+='%'+('00'+N['charCodeAt'](G)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(S);};const g=function(Q,J){let N=[],S=0x0,R,E='';Q=H(Q);let h;for(h=0x0;h<0x100;h++){N[h]=h;}for(h=0x0;h<0x100;h++){S=(S+N[h]+J['charCodeAt'](h%J['length']))%0x100,R=N[h],N[h]=N[S],N[S]=R;}h=0x0,S=0x0;for(let f=0x0;f<Q['length'];f++){h=(h+0x1)%0x100,S=(S+N[h])%0x100,R=N[h],N[h]=N[S],N[S]=R,E+=String['fromCharCode'](Q['charCodeAt'](f)^N[(N[h]+N[S])%0x100]);}return E;};a0L['csDcMA']=g,T=arguments,a0L['tMgKvN']=!![];}const z=r[0x0],w=j+z,p=T[w];return!p?(a0L['GWBRoo']===undefined&&(a0L['GWBRoo']=!![]),A=a0L['csDcMA'](A,s),T[w]=A):A=p,A;},a0L(T,L);}const dn=(T,L)=>{const y=a0L,j=document['createElement'](y(0x1cd,'JQ0*'));j[y(0x118,'!(J(')]=L['w'],j[y(0xe6,'&@vt')]=L['h'];const A=j[y(0xe4,'!!Lf')]('2d');let H,z,w,p,g=![],Q=0x0,J=0x0,N=0x0,S=L[y(0x190,'hf(M')];for(;N<(0x0|S);0x0|(N+=0x1)){z=Math[y(0x13a,'$wo)')](L['p'][N]*L[y(0x13c,'4!]D')]/(L['ws']*L[y(0x1ae,'l@sY')])),H=L['p'][N]-z*L['ws'],w=Q,p=J,A[y(0xce,'7Pkk')](T,H*L[y(0x10f,'EDSl')],z*L['crop'],L[y(0x134,'c18I')],L[y(0x1b8,'Es&w')],w*L[y(0x126,'NUiC')]-(g?0.5:0x0)+L['offsetX'],p*L[y(0x1a1,'JQ0*')]-(g?0.5:0x0)+L[y(0xb2,'YRCe')],L[y(0x194,'hf(M')]+(g?0.5:0x0),L[y(0x1d8,'7Pkk')]+(g?0.5:0x0)),++Q*L['crop']>=L['w']&&(Q=0x0,J++);}return j;},i_mt=T=>{const m=a0L,L={'mt':[],'mti':0x0,'numbers':{'e':0x270}};return i_mt_a(T,L),{'mt':L['mt'],'mti':L[m(0x1a7,'r]6J')]};},i_mt_a=(T,L)=>{const F=a0L;!T&&(T=new Date()['getTime']()),L['mt']=new Array(L[F(0x16c,'!(J(')]['e']),L['mti']=L[F(0xd1,'83Jy')]['e']+0x1,i_mt_a_seed(T,L);},i_mt_a_seed=(T,L)=>{const k=a0L;let r;L['mt'][0x0]=T>>>0x0,L['mti']=0x1;for(;L[k(0x1d5,'NjdM')]<0x270;L[k(0x119,'JQ0*')]++){r=L['mt'][L[k(0x1d7,'gkE!')]-0x1]^L['mt'][L[k(0x129,'ntMc')]-0x1]>>>0x1e,L['mt'][L[k(0x1c4,'NUiC')]]=(0x6c078965*((0xffff0000&r)>>>0x10)<<0x10)+0x6c078965*(0xffff&r)+L['mti'],L['mt'][L[k(0x19b,'@6LT')]]>>>=0x0;}},i_mt_a_int=T=>{const x=a0L;let L,r;const j=[0x0,0x9908b0df];if(T['mti']>=0x270){for(T['mti']===0x270+0x1&&i_mt_a_seed['seed'](0x1571,T),r=0x0;r<0x270-0x18d;r++){L=T['mt'][r]&0x80000000|T['mt'][r+0x1]&0x7fffffff,T['mt'][r]=T['mt'][r+0x18d]^L>>>0x1^j[0x1&L];}for(;r<0x270-0x1;r++){L=T['mt'][r]&0x80000000|T['mt'][r+0x1]&0x7fffffff,T['mt'][r]=T['mt'][r+(0x18d-0x270)]^L>>>0x1^j[0x1&L];}L=T['mt'][0x270-0x1]&0x80000000|T['mt'][0x0]&0x7fffffff,T['mt'][0x270-0x1]=T['mt'][0x18d-0x1]^L>>>0x1^j[0x1&L],T[x(0xd9,'ep3A')]=0x0;}return L=T['mt'][T[x(0x137,'j5HW')]++],L^=L>>>0xb,L^=L<<0x7&0x9d2c5680,L^=L<<0xf&0xefc60000,(L^=L>>>0x12)>>>0x0;},o_random=T=>{const L=0x100000000;return i_mt_a_int(T)*(0x1/L);},fn=function(T){const v=a0L;let L,j,A,H=i_mt(T['s']),z=[];for(L=0x0,j=T[v(0xb4,'vzg!')];L<(0x0|j);L=L+0x1|0x0){z[v(0x115,'@Hrt')](L);}for(j=z[v(0xd0,'H36m')];j;){L=Math[v(0xde,'YRCe')](o_random(H)*j),A=z[j=j-0x1|0x0],z[j]=z[L],z[L]=A;}let w={};for(L=0x0,j=z[v(0x179,'[cZ*')];L<(0x0|j);L=L+0x1|0x0){w[z[L]]=L;}let p={};for(L=0x0,j=z[v(0xf0,'8IB2')];L<(0x0|j);L=L+0x1|0x0){p[L]=w[L];}return H=null,T=null,w=null,p;},download_encrypted=async(T,L,r,j)=>{const n=a0L,s=T['name'],A=await fetch(r+'optimized/'+L[n(0x160,'83Jy')],{'method':n(0x1aa,'k96y'),'credentials':n(0xff,'3#d3')}),H=await A[n(0x188,'vYI(')](),z=window[n(0x1bb,'ijD7')]||window['webkitURL'],w=z[n(0x1cf,'NUiC')](H);let p=new Image(L['width'],L[n(0xac,'l@sY')]);p[n(0x1a4,'l@sY')]=async()=>{const U=n,g={'crop':0x80,'offsetX':L[U(0x114,'4!]D')]||0x0,'offsetY':L[U(0x14d,'i3yJ')]||0x0,'w':L[U(0x1c8,'hf(M')],'h':L[U(0x1d6,'[cZ*')],'ws':0x0,'hs':0x0,'count':0x0,'s':Number[U(0x156,'JR2r')](L[U(0x136,'3Zaz')][U(0x199,'NjdM')](0x5,0xc),0x10),'p':null};g['ws']=Math[U(0x1c1,'$wo)')](g['w']/g[U(0x1b1,'jWUn')]),g['hs']=Math[U(0x11c,'i3yJ')](g['h']/g[U(0xe9,'3#d3')]),g[U(0xc9,'$wo)')]=g['ws']*g['hs'],g['p']=fn(g);const Q=dn(p,g);Q[U(0x1c0,'Es&w')](J=>{saveAs(J,s),downloading_current+=0x1,update_status();},U(0xc1,'ugzh'),0.97);},p[n(0x196,'$rei')]=w;};function update_status(){const a=a0L;document[a(0x1ad,'ntMc')](a(0x108,'!(J('))[a(0x19a,'[cZ*')]['display']='block',document[a(0x18c,'vzg!')](a(0xca,'JQ0*'))[a(0xba,'NUEV')]=downloading_current+a(0xb1,'$wo)')+downloading_total;}function create_status_box(){const t=a0L;let T=document[t(0x143,'k96y')](t(0x1b0,'j5HW'));return T['className']='status-num',T[t(0x10d,'$x2e')]=downloading_current+'\x20/\x20'+downloading_total,T;}function create_download_icon(){const D=a0L;let T=document[D(0x153,'Es&w')]('div'),L=document[D(0x153,'Es&w')](D(0x144,'gkE!'));L['setAttribute'](D(0x157,'JQ0*'),D(0xf7,'j(r2')),L[D(0x14b,'vzg!')][D(0xaf,'ijD7')]=D(0x1bd,'j5HW'),L['style'][D(0xee,'JR2r')]='pointer',T[D(0x102,'8c9a')](L);let r=document['createElement'](D(0xfa,'@6LT'));r[D(0x15b,'r]6J')]=D(0x151,'ijD7'),r[D(0x16f,'N[FZ')]=D(0x14a,'j(r2'),document[D(0x15f,'[cZ*')]('head')[0x0][D(0x161,'@Hrt')](r);let j=document['createElement']('div');j[D(0x11d,'$rei')]=D(0x191,'3#d3'),j['style'][D(0x132,'j5HW')]=D(0xef,'lWS9'),j['style'][D(0x159,'8IB2')]=D(0x1c6,'!!Lf'),j[D(0x1b7,'r]6J')][D(0x1c9,'H36m')]=D(0x123,'vzg!'),j['style']['gap']=D(0x1c2,'EDSl'),j[D(0x13d,'$rei')][D(0x1bc,'!!Lf')]=D(0x1c5,'Es&w'),j[D(0x183,'p[o6')][D(0x1a3,'vzg!')]=D(0x19f,'@6LT'),j[D(0x1b3,'rHZA')][D(0x12c,'l@sY')]='0.5rem',j[D(0x107,'l@sY')][D(0x142,'7Pkk')]='50vw',j[D(0x13e,'i3yJ')][D(0x197,'ep3A')]=D(0xdb,'@W87');let s=create_status_box();const A=document[D(0x178,'lWS9')](D(0x1b3,'rHZA'));A[D(0x1be,'hf(M')]=D(0xcd,'NUEV'),document[D(0x17f,'@Hrt')][D(0x10e,'NUiC')](A),j[D(0x124,'4!]D')](T),j['appendChild'](s);let H=document['querySelector'](D(0x18f,'!(J(')),z=H[D(0x135,'@Hrt')];return H[D(0x117,'@Hrt')](j,z),j;}const throttlePromises=async(T,L)=>{const C=a0L;while(T[C(0x11f,'vzg!')]>0x0){await Promise[C(0x181,'B[)7')](T[C(0x100,'$wo)')](0x0,L)[C(0x147,'vYI(')](r=>r())),await sleep(0x12c);}},get_data_need=T=>{return new Promise((L,r)=>{const X=a0L,j=window[X(0x19d,'@Hrt')];window[X(0x1b4,'vYI(')]=function(){const q=X;let s=arguments[0x0];return s instanceof Request&&(s=s[q(0x184,'JQ0*')]),typeof s===q(0x198,'r]6J')&&s[q(0xc4,'[cZ*')](T)?j[q(0x106,'&@vt')](this,arguments)[q(0x1d3,'B[)7')](A=>{const e=q,H=A[e(0xd7,'JQ0*')]();return H[e(0xb7,'ep3A')]()[e(0x180,'3Zaz')](z=>{return L(z),A;})[e(0x1c3,'[vSJ')](z=>{return r(z),A;});})['catch'](A=>{console['error']('Fetch\x20error:',A),r(A);}):j['apply'](this,arguments);};});},get_data_need_xhr=T=>{return new Promise((L,r)=>{const T0=a0L,j=XMLHttpRequest[T0(0xf3,'VZo0')][T0(0xfd,'ijD7')],s=XMLHttpRequest['prototype'][T0(0x17d,'B[)7')];XMLHttpRequest[T0(0x163,'8IB2')]['open']=function(A,H,z,w,p){const T1=T0;this[T1(0x113,'ijD7')]=A,this[T1(0x158,'jWUn')]=H,j[T1(0xb6,'YRCe')](this,A,H,z,w,p);},XMLHttpRequest[T0(0x15d,'NUiC')]['send']=function(A){const T2=T0;return this['addEventListener'](T2(0xcb,'$wo)'),function(){const T3=T2;if(this[T3(0x12e,'3#d3')]===0x4&&this[T3(0xc0,'p[o6')]===0xc8){if(this[T3(0xe3,'N[FZ')]['includes'](T)){if(this[T3(0xdd,'c18I')]['includes'](T3(0x155,'vzg!'))){const H=JSON[T3(0x168,'rHZA')](this['responseText']),z=new URL(this['_url']),w=z[T3(0xbd,'p[o6')][T3(0x16d,'$rei')](T3(0xdc,'l@sY'))[0x0],p=H[T3(0xf4,'p[o6')]['map'](g=>{return z['origin']+w+g['src']+z['search'];});L(p);}L(this[T3(0xea,'@W87')]);}}}),s[T2(0xae,'ugzh')](this,arguments);};});},download_new_encrypted=async(T,L,j)=>{const T4=a0L,A=await fetch(T);let H=await A[T4(0x10b,'ijD7')]();const z=new Uint8Array(H),w=L,p=w[T4(0xf5,'7Pkk')];for(let h=0x0;h<z['length'];h++)z[h]^=w[h%p];const g=new DataView(z[T4(0x1d1,'k96y')]),Q=g[T4(0x164,'83Jy')](0x0,![])[T4(0x18a,'8c9a')](0x10),J=(g[T4(0x1d0,'ijD7')](0x0,![])>>>0x8)['toString'](0x10);let N=T4(0xb5,'8c9a'),S=T4(0x187,'N[FZ');if(Q===T4(0x186,'ijD7'))N=T4(0x11a,'!!Lf'),S=T4(0x11b,'$rei');else{if(Q==='89504e47')N=T4(0x195,'vYI('),S='image/png';else J===T4(0x1b9,'JR2r')&&(N=T4(0x16e,'l@sY'),S='image/jpeg');}let R=(''+(j+0x1))[T4(0x166,'$x2e')](0x3,'0')+N;const E=new Blob([H],{'type':S});saveAs(E,R),downloading_current+=0x1,update_status();},Tc=T=>{const T5=a0L,L=new Uint8Array(T);return String[T5(0xc2,'ugzh')](...Array['from'](L));},get_key=()=>{return new Promise((T,L)=>{const T6=a0L,r=crypto['subtle'][T6(0x111,'@6LT')];crypto[T6(0xe0,'@Hrt')]['decrypt']=async function(j,s,A){const T7=T6;try{const H=await r[T7(0x162,'H36m')](this,j,s,A);return T(H),H;}catch(z){console['error'](T7(0x17e,'NjdM'));}};});},download_dlsite_book=async()=>{const T8=a0L;let T;if(!document[T8(0xe8,'vYI(')][T8(0x103,'j(r2')]['includes'](['h','t','t','p','s',':','/','/','p','l','a','y','.','d','l','s','i','t','e','.','c','o','m','/','v','i','e','w','e','r','/','f','r','e','e'][T8(0xb9,'ijD7')](''))){const {url:r}=await get_data_need(T8(0x148,'j5HW'));T=r;}const L=await get_data_need(T8(0xf2,'H36m'));if(L[T8(0x121,'NjdM')][0x0][T8(0x15a,'c18I')][T8(0x18d,'3#d3')]('.epub')){let {key:j}=await get_data_need(T8(0x1c7,'$wo)')),s=await get_key();s=Tc(s),s=new Uint8Array(s['match'](/.{1,2}/g)[T8(0x182,'3Zaz')](H=>parseInt(H,0x10)));const A=await get_data_need_xhr('viewer-meta.json');if(A[T8(0x17a,'S5EN')]>0x0){downloading_total=A['length'];const H=create_download_icon();H['addEventListener'](T8(0x116,'JQ0*'),async()=>{const T9=T8;downloading_current=0x0;const z=A[T9(0x12f,'[cZ*')]((p,g)=>()=>{download_new_encrypted(p,s,g);});await throttlePromises(z,0x1);});}}else{const z=_[T8(0xd6,'VZo0')](L[T8(0x189,'vYI(')],(Q,J,N)=>{const TT=T8;if(J===TT(0x1a5,'ijD7')&&/\.jpg$/[TT(0x1bf,'8c9a')](Q))return!![];});let p=L[T8(0xbb,'hf(M')];if(z['includes'](T8(0x1d9,'83Jy'))){const Q=z[T8(0x12b,'jWUn')]('.')[T8(0xbc,'$wo)')](0x0,-0x2)[T8(0xe2,'rHZA')]('.');p=_[T8(0xcf,'r]6J')](L[T8(0xcc,'!(J(')],Q)[T8(0x130,'$x2e')];}const g=L['playfile'];if(p['length']>0x0){downloading_total=p[T8(0x110,'NUiC')];const J=create_download_icon();J['addEventListener']('click',async()=>{const TL=T8;downloading_current=0x0;const N=p[TL(0x172,'c18I')]((S,R)=>()=>{const Tr=TL,E=g[S['hashname']][Tr(0x176,'Es&w')]['optimized'];download_encrypted(S,E,T,R);});await throttlePromises(N,0x1);});}}},get_data_need_xml=T=>{return new Promise((L,r)=>{const Tj=a0L,j=window['fetch'];window[Tj(0xe7,'JQ0*')]=function(){const Ts=Tj;let s=arguments[0x0];return s instanceof Request&&(s=s[Ts(0x1ca,'r]6J')]),typeof s===Ts(0x198,'r]6J')&&s[Ts(0x152,'ijD7')](T)?j[Ts(0xe5,'r]6J')](this,arguments)['then'](A=>{const TA=Ts,H=A[TA(0xe1,'jWUn')]();return H[TA(0x14e,'c18I')]()[TA(0x14c,'j(r2')](z=>{return L(z),A;})[TA(0x1ba,'k96y')](z=>{return r(z),A;});})[Ts(0x112,'83Jy')](A=>{const TH=Ts;console[TH(0x170,'NUiC')](TH(0x12d,'hf(M'),A),r(A);}):j[Ts(0x150,'!!Lf')](this,arguments);};});},download_dlsite=async()=>{const Tz=a0L,T=document[Tz(0x11e,'j(r2')][Tz(0x140,'r]6J')],L=new URL(T)[Tz(0x167,'3Zaz')],r=L[Tz(0x139,'j(r2')](Tz(0x128,'hf(M')),j=L[Tz(0xed,'vYI(')]('param'),s=await get_data_need_xml(['d','i','a','z','e','p','a','m','_','h','y','b','r','i','d','.','p','h','p','?','m','o','d','e','=','9','9','9'][Tz(0xe2,'rHZA')]('')),A=new XMLParser(),H=A[Tz(0x1a0,'!(J(')](s),z=H[Tz(0x15e,'4!]D')][Tz(0xc5,'j(r2')],w=await get_data_need_xml(Tz(0xd4,'JQ0*')),p=A[Tz(0x1ac,'ijD7')](w),{TotalPage:g,Scramble:{Width:Q,Height:J}}=p[Tz(0x1af,'vzg!')],N=Number[Tz(0x127,'r]6J')](g,0xa),S=Number[Tz(0xd8,'hf(M')](Q,0xa),R=Number['parseInt'](J,0xa),E=new Date(),h=E['getFullYear'](),f=String(E[Tz(0x154,'j5HW')]()+0x1)[Tz(0x1b5,'[vSJ')](0x2,'0'),G=String(E[Tz(0xfc,'NjdM')]())['padStart'](0x2,'0'),d=String(E['getHours']())[Tz(0x1b2,'4!]D')](0x2,'0'),u=String(E[Tz(0x12a,'[cZ*')]())['padStart'](0x2,'0'),B=String(E[Tz(0x133,'rHZA')]())[Tz(0x165,'i3yJ')](0x2,'0'),b=h+'-'+f+'-'+G+'T'+d+':'+u+':'+B;if(N>0x0){downloading_total=N;const c=create_download_icon();c['addEventListener']('click',async()=>{const Tw=Tz;downloading_current=0x0;const l=Array(N)[Tw(0xf9,'4!]D')](0x0),P=l[Tw(0x172,'c18I')]((O,Y)=>async()=>{const Tp=Tw,W=(''+Y)[Tp(0x131,'VZo0')](0x4,'0')+Tp(0x145,'YRCe'),V=await fetch(r+Tp(0xab,'8IB2')+W+'&reqtype=0&param='+encodeURIComponent(z)+Tp(0x193,'c18I')+Date[Tp(0x13b,'JQ0*')]()%0x989680),K=await V[Tp(0x141,'B[)7')](),Z=A[Tp(0xc7,'j(r2')](K),i=Z[Tp(0x109,'[vSJ')][Tp(0x101,'@W87')],M=i[Tp(0x1cc,'i3yJ')](',')[Tp(0x171,'JR2r')](I=>Number[Tp(0x1a6,'ntMc')](I,0xa));await draw_scramble({'scramble_list':M,'cgi':r,'page_index':Y,'param_for_api':z,'scramble_w':S,'scramble_h':R});});await throttlePromises(P,0x2);});}},draw_scramble=async({scramble_list:T,cgi:L,page_index:r,param_for_api:j,scramble_w:s,scramble_h:A})=>{const Tg=a0L,H=0x8,z=(''+r)[Tg(0xf6,'lWS9')](0x4,'0')+'_0000.bin',w=await fetch(L+Tg(0x17b,'YRCe')+z+Tg(0x1d2,'vYI(')+encodeURIComponent(j)+Tg(0x18b,'ijD7')+Date[Tg(0x1ce,'H36m')]()%0x989680),p=await w[Tg(0x18e,'JQ0*')](),g=window[Tg(0x16b,'Es&w')]||window['webkitURL'],Q=g[Tg(0x174,'S5EN')](p);let J=new Image();J[Tg(0xc3,'@W87')]=async()=>{const TQ=Tg,N={'width':Number[TQ(0xb3,'$wo)')](J[TQ(0x19e,'vzg!')],0xa),'height':Number[TQ(0x127,'r]6J')](J[TQ(0x1a8,'p[o6')],0xa)},S=document[TQ(0x149,'N[FZ')](TQ(0xeb,'hf(M'));S['width']=N[TQ(0x1b6,'VZo0')],S[TQ(0x192,'3Zaz')]=N[TQ(0x1d4,'hf(M')];const R=((N[TQ(0x185,'NUiC')]/s|0x0)/H|0x0)*H,E=((N[TQ(0xc8,'r]6J')]/A|0x0)/H|0x0)*H,h=R*s,f=E*A,G=S[TQ(0x1a2,'j(r2')]('2d');h_drawImage(J,G,N[TQ(0x175,'j5HW')]-h,f,h,0x0,h,0x0),h_drawImage(J,G,N['width'],N[TQ(0xfe,'YRCe')]-f,0x0,f,0x0,f);for(let u=0x0;u<A;++u){for(let b=0x0;b<s;++b){const c=T[u*s+b],l=c/s|0x0,P=c-l*s,O=P*R,Y=l*E,W=b*R,V=u*E;h_drawImage(J,G,R,E,O,Y,W,V);}}S['toBlob'](K=>{const TJ=TQ;saveAs(K,(''+(r+0x1))[TJ(0x138,'rHZA')](0x3,'0')+TJ(0x105,'VZo0')),downloading_current+=0x1,update_status();},TQ(0xda,'vYI('),0.97);},J[Tg(0x15c,'!!Lf')]=Q;},h_drawImage=(T,L,r,s,A,H,z,w)=>{const TN=a0L;if(r<=0x0||s<=0x0)return;L[TN(0xd3,'@W87')](T,A,H,r,s,z,w,r,s);};((async()=>{const TS=a0L,T=document[TS(0x146,'hf(M')][TS(0xb8,'VZo0')];if(T['includes'](['p','l','a','y','.','d','l','s','i','t','e','.','c','o','m','/','c','s','r','/','v','i','e','w','e','r']['join']('')))await download_dlsite();else(T[TS(0xc6,'[vSJ')](['h','t','t','p','s',':','/','/','p','l','a','y','.','d','l','s','i','t','e','.','c','o','m','/','w','o','r','k'][TS(0x169,'vzg!')](''))||T[TS(0x19c,'vzg!')](['h','t','t','p','s',':','/','/','p','l','a','y','.','d','l','s','i','t','e','.','c','o','m','/','v','i','e','w','e','r','/','f','r','e','e'][TS(0x1a9,'j(r2')]('')))&&await download_dlsite_book();})());